window.ikarusWidgetJs=function(){function t(){}function a(t){"2"==IkarusJQuery("#inputVoo__"+t).attr("sellingmode")&&IkarusJQuery("#trVoo__"+t+" td div")}var o="",r=function(t,a,i,o,r){IkarusJQuery.ajax({url:t,timeout:12e4,type:"GET",success:function(t){t=t.substring(t.indexOf("{"),t.lastIndexOf("}")+1),t&&(IkarusJQuery("#ida_"+a+"_searchLoader").remove(),IkarusJQuery("#volta_"+a+"_searchLoader").remove(),tempFlights=JSON.parse(t),IkarusJQuery("#ikarus_widget_tabela-ida").append(D(tempFlights.independentes[a].ida,"ida",a,i,o,r)),"R"==r.trip&&IkarusJQuery("#ikarus_widget_tabela-volta").append(D(tempFlights.independentes[a].volta,"volta",a,i,o,r)))},error:function(){console.log("Erro ao buscar voos: "+a)}})},e=function(t){o=t},l=function(){IkarusJQuery("#ikarusDataDepartureDate").datepicker({prevText:"Anterior",nextText:"Próximo",numberOfMonths:2,dateFormat:"dd/mm/yy",dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],dayNamesMin:["D","S","T","Q","Q","S","S","D"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],minDate:0,onClose:function(t){t&&IkarusJQuery("#ikarusDataBackDate").datepicker("option","minDate",t)}}),IkarusJQuery("#ikarusDataBackDate").datepicker({prevText:"Anterior",nextText:"Próximo",numberOfMonths:2,dateFormat:"dd/mm/yy",dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],dayNamesMin:["D","S","T","Q","Q","S","S","D"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],minDate:0}),IkarusJQuery("#ikarusDataFrom").ikarus_widget_select2(),IkarusJQuery("#ikarusDataTo").ikarus_widget_select2()},s=function(t,a){IkarusJQuery(t).parent().parent().append("<div class='ikarus_widget_validation_error'>"+a+"</div>")},d=function(t){return"R"==t.trip?IkarusJQuery("#info_voo_ida").val()&&IkarusJQuery("#info_voo_volta").val()?!0:(IkarusJQuery("#info_voo_volta").val()||(IkarusJQuery("#validaVooVoltaTabela").show(),IkarusJQuery(window).scrollTop(IkarusJQuery("#tabela_volta").offset())),IkarusJQuery("#info_voo_ida").val()||(IkarusJQuery("#validaVooIdaTabela").show(),IkarusJQuery(window).scrollTop(IkarusJQuery("#tabela_ida").offset())),!1):IkarusJQuery("#info_voo_volta").val()?!0:(IkarusJQuery("#validaVooIdaTabela").attr("style",""),!1)},h=function(t){if(d(t)){IkarusJQuery(".ikarus_widget_validation_error").each(function(t,a){IkarusJQuery(a).remove()});var a=!0,i=IkarusJQuery("input[id$='Name']");for(m=0;m<i.length;m++){var o=IkarusJQuery(i[m]).val();null==o.match(/^[A-z0-9àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇ\s]+$/g)&&(s(i[m],"Por favor não usar pontuações ou abreviações no seu nome."),a=!1)}var r=IkarusJQuery("input[id$='Birthday']");for(m=0;m<r.length;m++){var e=IkarusJQuery(r[m]).val(),l=IkarusJQuery(r[m]).attr("typePassenger");if(null==e.match(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/g))s(r[m],"Data inválida."),a=!1;else{var h=ikarusWidgetJs.calculateAge(e,t);"adult"==l&&h>=12||"child"==l&&(h>=2||12>h)||"baby"==l&&2>h||("adult"==l&&12>h&&(msg="Um passageiro adulto deve possuir mais que 12 anos até a data do(s) voo(s)."),"child"==l&&(2>h||h>=12)&&(msg="É considerado criança o passageiro entre 2 e 12 anos antes da data do(s) voo(s)."),"baby"==l&&h>=2&&(msg="É considerado bebê o passageiro menor que 2 anos antes da data do(s) voo(s)."),s(r[m],msg),a=!1)}}var m;return a}return!1},m=function(){"R"==IkarusJQuery("#ikarusDataTrip").val()?IkarusJQuery("#ikarusDataBackDateDiv").show(500):IkarusJQuery("#ikarusDataBackDateDiv").hide(500)},n=function(t,a){var i=t.split("/");dataVoo="R"==a.trip?a.backDate.split("/"):a.departureDate.split("/");var o=new Date(dataVoo[2],dataVoo[1],dataVoo[0],0,0,0),r=new Date(i[2],i[1],i[0],0,0,0),e=o-r.getTime(),l=new Date(e);return Math.abs(l.getUTCFullYear()-1970)},u=function(){},_=function(t){IkarusJQuery("#ikarusDataTrip").val(t.trip),IkarusJQuery("#ikarusDataFrom").ikarus_widget_select2("val",t.from),IkarusJQuery("#ikarusDataTo").ikarus_widget_select2("val",t.to),IkarusJQuery("#ikarusDataDepartureDate").val(t.departureDate),IkarusJQuery("#ikarusDataBackDate").val(t.backDate),IkarusJQuery("#ikarusDataAdults").val(t.adults),IkarusJQuery("#ikarusDataChildren").val(t.children),IkarusJQuery("#ikarusDataBabies").val(t.babies)},v=function(t,a){for(trs=IkarusJQuery('tr[id*="trVoo__'+t+'__"]'),count=trs.length,i=0;count>i;i++)if(trFechar=IkarusJQuery(trs[i]),trFechar.attr("id")!="trVoo__"+a){for(trFechar.prop("checked",!1),trFechar.fadeOut("fast"),id=IkarusJQuery(trs[i]).attr("id"),id=id.split("__"),nameId=id[2],j=3;j<id.length;j++)nameId+="__"+id[j];C(nameId)}},p=function(t,a){for(trs=IkarusJQuery('tr[id*="trVoo__'+t+'__"]'),count=trs.length,i=0;count>i;i++)if(trFechar=IkarusJQuery(trs[i]),trFechar.attr("id")!="trVoo__"+a){for(trFechar.prop("checked",!1),trFechar.fadeIn("slow"),id=IkarusJQuery(trs[i]).attr("id"),id=id.split("__"),nameId=id[2],j=3;j<id.length;j++)nameId+="__"+id[j];C(nameId)}},c=function(t){IkarusJQuery("#btnOpenDetails__"+t).attr("style","display:none;"),IkarusJQuery("#trDetails__"+t).fadeIn("slow"),IkarusJQuery("#btnCloseDetails__"+t).attr("style","")},C=function(t){IkarusJQuery("#btnCloseDetails__"+t).attr("style","display:none;"),IkarusJQuery("#trDetails__"+t).fadeOut("slow"),IkarusJQuery("#btnOpenDetails__"+t).attr("style","")},g=function(t){return time=new Date(1e3*parseInt(t)),hour=time.getHours(),min=time.getMinutes(),10>hour&&(hour="0"+hour),10>min&&(min="0"+min),time=hour+":"+min},b=function(t,a){mask=IkarusJQuery(t).val(),IkarusJQuery.mask.definitions.r="[0-9A-Za-z.-]",IkarusJQuery("#Passenger"+a+"Ssn").mask("CPF"==mask?"999.999.999-99":"rrrr?rrrrrrrrrrrrrrrr")},D=function(t,a,r,e,l,s){for(html="",i=0;i<t.length;i++)if(t[i].Flight.hash=r,partida=g(t[i].Flight.departure),chegada=g(t[i].Flight.arrival),valorDinheiroAdt=t[i].Flight.price_adults?parseFloat(t[i].Flight.price_adults):0,valorDinheiroCri=t[i].Flight.price_children?parseFloat(t[i].Flight.price_children):0,valorMilhasAdt=t[i].Flight.miles_adults?parseInt(t[i].Flight.miles_adults):0,valorMilhasCri=t[i].Flight.miles_children?parseInt(t[i].Flight.miles_children):0,valorEmpresaAdt=t[i].Flight.miles_adults?parseFloat(t[i].Flight.miles_adults)*e[r].price/1e4:0,valorEmpresaCri=t[i].Flight.miles_children?parseFloat(t[i].Flight.miles_children)*e[r].price/1e4:0,t[i].Flight.price_adults=valorDinheiroAdt,t[i].Flight.price_children=valorDinheiroCri,t[i].Flight.miles_adults=valorMilhasAdt,t[i].Flight.miles_children=valorMilhasCri,t[i].Flight.empresa_adults=valorEmpresaAdt,t[i].Flight.empresa_children=valorEmpresaCri,valorComboDinheiroAdt=t[i].Flight.price_adults_combo?0:parseFloat(t[i].Flight.price_adults_combo),valorComboDinheiroCri=t[i].Flight.price_children_combo?parseFloat(t[i].Flight.price_children_combo):0,valorComboMilhasAdt=t[i].Flight.miles_adults_combo?parseInt(t[i].Flight.miles_adults_combo):0,valorComboMilhasCri=t[i].Flight.miles_children_combo?parseInt(t[i].Flight.miles_children_combo):0,valorComboEmpresaAdt=t[i].Flight.miles_adults_combo?parseFloat(t[i].Flight.miles_adults_combo)*e[r].price/1e4:0,valorComboEmpresaCri=t[i].Flight.miles_children_combo?parseFloat(t[i].Flight.miles_children_combo)*e[r].price/1e4:0,t[i].Flight.price_adults_combo=valorComboDinheiroAdt,t[i].Flight.price_children_combo=valorComboDinheiroCri,t[i].Flight.miles_adults_combo=valorComboMilhasAdt,t[i].Flight.miles_children_combo=valorComboMilhasCri,t[i].Flight.empresa_adults_combo=valorComboEmpresaAdt,t[i].Flight.empresa_children_combo=valorComboEmpresaCri,totalDinheiro=parseFloat((valorDinheiroAdt*s.adults+valorDinheiroCri*s.children).toFixed(2)),totalMilhas=parseInt((valorMilhasAdt*s.adults+valorMilhasCri*s.children).toFixed(0)),totalEmpresa=parseFloat((valorEmpresaAdt*s.adults+valorEmpresaCri*s.children).toFixed(2)),totalComboDinheiro=parseFloat((valorComboDinheiroAdt*s.adults+valorComboDinheiroCri*s.children).toFixed(2)),totalComboMilhas=parseInt((valorComboMilhasAdt*s.adults+valorComboMilhasCri*s.children).toFixed(0)),totalComboEmpresa=parseFloat((valorComboEmpresaAdt*s.adults+valorComboEmpresaCri*s.children).toFixed(2)),t[i].Flight.totalDinheiro=totalDinheiro,t[i].Flight.totalMilhas=totalMilhas,t[i].Flight.totalEmpresa=totalEmpresa,t[i].Flight.totalComboDinheiro=totalComboDinheiro,t[i].Flight.totalComboMilhas=totalComboMilhas,t[i].Flight.totalComboEmpresa=totalComboEmpresa,txtDinheiroAdt=valorDinheiroAdt>0?ikarusAccounting.formatMoney(valorDinheiroAdt.toFixed(2),"R$ ",2,".",","):" não informado ",txtDinheiroCri=valorDinheiroCri>0?ikarusAccounting.formatMoney(valorDinheiroCri.toFixed(2),"R$ ",2,".",","):" não informado ",txtMilhasAdt=valorMilhasAdt>0?ikarusAccounting.formatMoney(valorMilhasAdt,"",0,".",""):" não informado ",txtMilhasCri=valorMilhasCri>0?ikarusAccounting.formatMoney(valorMilhasCri,"",0,".",""):" não informado ",txtEmpresaAdt=valorEmpresaAdt>0?ikarusAccounting.formatMoney(valorEmpresaAdt.toFixed(2),"R$ ",2,".",","):" não informado ",txtEmpresaCri=valorEmpresaCri>0?ikarusAccounting.formatMoney(valorEmpresaCri.toFixed(2),"R$ ",2,".",","):" não informado ",txtComboDinheiroAdt=valorComboDinheiroAdt>0?ikarusAccounting.formatMoney(valorComboDinheiroAdt.toFixed(2),"R$ ",2,".",","):" não informado ",txtComboDinheiroCri=valorComboDinheiroCri>0?ikarusAccounting.formatMoney(valorComboDinheiroCri.toFixed(2),"R$ ",2,".",","):" não informado ",txtComboMilhasAdt=valorComboMilhasAdt>0?ikarusAccounting.formatMoney(valorComboMilhasAdt,"",0,".",""):" não informado ",txtComboMilhasCri=valorComboMilhasCri>0?ikarusAccounting.formatMoney(valorComboMilhasCri,"",0,".",""):" não informado ",txtComboEmpresaAdt=valorComboEmpresaAdt>0?ikarusAccounting.formatMoney(valorComboEmpresaAdt.toFixed(2),"R$ ",2,".",","):" não informado ",txtComboEmpresaCri=valorComboEmpresaCri>0?ikarusAccounting.formatMoney(valorComboEmpresaCri.toFixed(2),"R$ ",2,".",","):" não informado ",taxaembarque=parseFloat(t[i].Flight.pre_fee)+parseFloat(t[i].Flight.fee_departure)+parseFloat(t[i].Flight.fee_arrival),taxaembarque=ikarusAccounting.formatMoney(taxaembarque.toFixed(2),"R$ ",2,".",","),json_flight=JSON.stringify(t[i]),totalEmpresa>0||totalDinheiro>0||totalMilhas>0||totalComboEmpresa>0||totalComboDinheiro>0||totalComboMilhas>0){for(html+="<tr id='trVoo__"+a+"__"+r+"__"+i+"' hash='"+r+"' selling_mode='"+e[r].selling_mode+"'>",html+="<td>",totalEmpresa>0?(html+="<input type='checkbox' onchange='javascript:ikarusWidgetJs.buyRules(this, "+JSON.stringify(s)+", "+JSON.stringify(e)+");' ",html+="hash='"+r+"' ",html+="sellingmode='"+e[r].selling_mode+"' ",html+="id='inputVoo__"+a+"__"+r+"__"+i+"' ",html+="name='voos__"+a+"' ",html+="flightDataParadas='"+t[i].Flight.stops+"' ",html+="flightDataPartida='"+t[i].Flight.departure+"' ",html+="flightDataChegada='"+t[i].Flight.arrival+"' ",html+="flightDataAdtCia='"+valorDinheiroAdt+"' ",html+="flightDataCriCia='"+valorDinheiroCri+"' ",html+="flightDataAdtCiaCombo='"+valorComboDinheiroAdt+"' ",html+="flightDataCriCiaCombo='"+valorComboDinheiroCri+"' ",html+="flightDataAdtMil='"+valorMilhasAdt+"' ",html+="flightDataCriMil='"+valorMilhasCri+"' ",html+="flightDataAdtMilCombo='"+valorComboMilhasAdt+"' ",html+="flightDataCriMilCombo='"+valorComboMilhasCri+"' ",html+="flightDataAdtEmp='"+valorEmpresaAdt+"' ",html+="flightDataCriEmp='"+valorEmpresaCri+"' ",html+="flightDataAdtEmpCombo='"+valorComboEmpresaAdt+"' ",html+="flightDataCriEmpCombo='"+valorComboEmpresaCri+"' ",html+="value='"+json_flight+"'/>"):(html+="<input type='checkbox' onchange='javascript:ikarusWidgetJs.buyRules(this, "+JSON.stringify(s)+");' style='display:none;' ",html+="hash='"+r+"' ",html+="sellingmode='"+e[r].selling_mode+"' ",html+="id='inputVoo__"+a+"__"+r+"__"+i+"' ",html+="name='voos__"+a+"' ",html+="flightDataParadas='"+t[i].Flight.stops+"' ",html+="flightDataPartida='"+t[i].Flight.departure+"' ",html+="flightDataChegada='"+t[i].Flight.arrival+"' ",html+="flightDataAdtCia='"+valorDinheiroAdt+"' ",html+="flightDataCriCia='"+valorDinheiroCri+"' ",html+="flightDataAdtCiaCombo='"+valorComboDinheiroAdt+"' ",html+="flightDataCriCiaCombo='"+valorComboDinheiroCri+"' ",html+="flightDataAdtMil='"+valorMilhasAdt+"' ",html+="flightDataCriMil='"+valorMilhasCri+"' ",html+="flightDataAdtMilCombo='"+valorComboMilhasAdt+"' ",html+="flightDataCriMilCombo='"+valorComboMilhasCri+"' ",html+="flightDataAdtEmp='"+valorEmpresaAdt+"' ",html+="flightDataCriEmp='"+valorEmpresaCri+"' ",html+="flightDataAdtEmpCombo='"+valorComboEmpresaAdt+"' ",html+="flightDataCriEmpCombo='"+valorComboEmpresaCri+"' ",html+="value='"+json_flight+"' disabled/>"),html+="</td>",html+="<td>",html+="<img src='"+o+"/images/"+r+"_ativo.png' class='choice-header' style='max-width: 46px !important;' alt=''>",html+="</td>",html+="<td style='white-space: normal; word-break: break-all !important;'>"+t[i].Flight.number+"</td>",html+="<td>"+t[i].Flight.stops+"</td>",html+="<td title='"+l[t[i].Flight.from].name+"'>"+t[i].Flight.from+" "+partida+"</td>",html+="<td title='"+l[t[i].Flight.to].name+"'>"+t[i].Flight.to+" "+chegada+"</td>",cssEmp="",totalDinheiro>totalEmpresa&&totalEmpresa>0?cssEmp="compensa":totalComboDinheiro>totalComboEmpresa&&totalComboEmpresa>0&&(cssEmp="compensa"),tdCia="<td>",tdMilhas="<td>",tdEmpresa="<td class='"+cssEmp+"' >","R"==s.trip&&"2"==e[r].selling_mode?((totalEmpresa>0||totalDinheiro>0||totalMilhas>0)&&(s.children>0?valorEmpresaAdt==valorEmpresaCri&&valorDinheiroAdt==valorDinheiroCri&&valorMilhasAdt==valorMilhasCri?(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'>"+txtDinheiroAdt+"</div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'>"+txtMilhasAdt+"</div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'>"+txtEmpresaAdt+"</div>"):(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'><div>"+txtDinheiroAdt+" adt</div><div>"+txtDinheiroCri+" cri</div></div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'><div>"+txtMilhasAdt+" adt</div><div>"+txtMilhasCri+" cri</div></div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'><div>"+txtEmpresaAdt+" adt</div><div>"+txtEmpresaCri+" cri</div></div>"):(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'>"+txtDinheiroAdt+"</div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'>"+txtMilhasAdt+"</div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'>"+txtEmpresaAdt+"</div>")),(totalComboEmpresa>0||totalComboDinheiro>0||totalComboMilhas>0)&&(s.children>0?valorComboEmpresaAdt==valorComboEmpresaCri&&valorComboDinheiroAdt==valorComboDinheiroCri&&valorComboMilhasAdt==valorComboMilhasCri?(tdCia+="<div id='valorComboCia__"+a+"__"+r+"__"+i+"'>"+txtComboDinheiroAdt+"</div>",tdMilhas+="<div id='valorComboMil__"+a+"__"+r+"__"+i+"'>"+txtComboMilhasAdt+"</div>",tdEmpresa+="<div id='valorComboEmp__"+a+"__"+r+"__"+i+"'>"+txtComboEmpresaAdt+"</div>"):(tdCia+="<div id='valorComboCia__"+a+"__"+r+"__"+i+"'><div>"+txtComboDinheiroAdt+" adt</div><div>"+txtComboDinheiroCri+" cri</div></div>",tdMilhas+="<div id='valorComboMil__"+a+"__"+r+"__"+i+"'><div>"+txtComboMilhasAdt+" adt</div><div>"+txtComboMilhasCri+" cri</div></div>",tdEmpresa+="<div id='valorComboEmp__"+a+"__"+r+"__"+i+"'><div>"+txtComboEmpresaAdt+" adt</div><div>"+txtComboEmpresaCri+" cri</div></div>"):(tdCia+="<div id='valorComboCia__"+a+"__"+r+"__"+i+"'>"+txtComboDinheiroAdt+"</div>",tdMilhas+="<div id='valorComboMil__"+a+"__"+r+"__"+i+"'>"+txtComboMilhasAdt+"</div>",tdEmpresa+="<div id='valorComboEmp__"+a+"__"+r+"__"+i+"'>"+txtComboEmpresaAdt+"</div>"))):s.children>0?valorEmpresaAdt==valorEmpresaCri&&valorDinheiroAdt==valorDinheiroCri&&valorMilhasAdt==valorMilhasCri?(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'>"+txtDinheiroAdt+"</div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'>"+txtMilhasAdt+"</div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'>"+txtEmpresaAdt+"</div>"):(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'><div>"+txtDinheiroAdt+" adt</div><div>"+txtDinheiroCri+" cri</div></div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'><div>"+txtMilhasAdt+" adt</div><div>"+txtMilhasCri+" cri</div></div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'><div>"+txtEmpresaAdt+" adt</div><div>"+txtEmpresaCri+" cri</div></div>"):(tdCia+="<div id='valorCia__"+a+"__"+r+"__"+i+"'>"+txtDinheiroAdt+"</div>",tdMilhas+="<div id='valorMil__"+a+"__"+r+"__"+i+"'>"+txtMilhasAdt+"</div>",tdEmpresa+="<div id='valorEmp__"+a+"__"+r+"__"+i+"'>"+txtEmpresaAdt+"</div>"),tdCia+="</td>",tdMilhas+="</td>",tdEmpresa+="</td>",html+=tdCia+tdMilhas+tdEmpresa,html+="<td style='text-align:center;vertical-align:middle;'>",html+="<div>",html+="<bottom id='btnCloseDetails__"+a+"__"+r+"__"+i+"' style='display: none;' onclick=\"ikarusWidgetJs.fecharDetalhes('"+a+"__"+r+"__"+i+"');\"><b>-</b></bottom>",html+="<bottom id='btnOpenDetails__"+a+"__"+r+"__"+i+"' onclick=\"ikarusWidgetJs.abrirDetalhes('"+a+"__"+r+"__"+i+"');\"><b>+</b></bottom>",html+="</div>",html+="</td>",html+="</tr>",html+="<tr style='display: none;' id='trDetails__"+a+"__"+r+"__"+i+"'>",html+="<td colspan='10' style='background-color: "+e[r].color+";'>",html+="<div class='ikarus_widget_container-fluid'>",html+="<div class='ikarus_widget_row-fluid tituloDetalhesVoo'>",html+="Detalhes do Voo",html+="</div>",html+="<div class='ikarus_widget_row-fluid'>",html+="<div class='ikarus_widget_span12'>",html+="<table class='myCustomTable' align='center' width='100%' cellspacing='0' cellpadding='0' style='margin-bottom: 30px; background-color: #FFF;'>",html+="<tr style='background-color: #F3F3F3;'>",html+="<th style='text-align:center;'>A&eacute;rea</th>",html+="<th style='text-align:center;'>Aeronave</th>",html+="<th style='text-align:center;'>Sa&iacute;da</th>",html+="<th style='text-align:center;'>Chegada</th>",html+="</tr>",contColor=0,j=0;j<t[i].Trip.length;j++)partida=g(t[i].Trip[j].departure),chegada=g(t[i].Trip[j].arrival),html+="<tr>",html+="<td class='linhaDetalhesVoos"+j%2+"'>",html+="<b>"+t[i].Trip[j].carrier+"</b>",html+="</td>",html+="<td class='linhaDetalhesVoos"+j%2+"'>",html+="<b>"+t[i].Trip[j].number+"</b>",0!=t[i].Trip[j].airplane&&t[i].Trip[j].airplane.length>3&&(html+="<BR>",html+=""+t[i].Trip[j].airplane),html+="</td>",html+="<td class='linhaDetalhesVoos"+j%2+"'>",html+=""+l[t[i].Trip[j].from].name,html+=" ["+partida+"] ",html+="</td>",html+="<td class='linhaDetalhesVoos"+j%2+"'>",html+=""+l[t[i].Trip[j].to].name,html+=" ["+chegada+"] ",html+="</td>",html+="</tr>",contColor+=1;html+="<tr>",html+="<td colspan='4' class='linhaDetalhesVoos"+contColor%2+"'>",html+="Taxa da embarque/desembarque: "+taxaembarque,html+="</td>",html+="</tr>",html+="</table>",html+="</div>",html+="</div>",html+="</div>",html+="</td>",html+="</tr>"}return html},F=function(i,o,r){input=IkarusJQuery(i),operacao=input.prop("checked"),hash=input.attr("hash"),id=input.attr("id"),id=id.replace("inputVoo__",""),infos=id.split("__"),trecho=infos[0],hash=infos[1],numero=infos[2],outroTrecho="","ida"==trecho&&(outroTrecho="volta"),"volta"==trecho&&(outroTrecho="ida"),info_voo=input.prop("checked")?input.attr("value"):"",IkarusJQuery("#info_voo_"+trecho).attr("value",info_voo),operacao?(selected=IkarusJQuery('input[id*="inputVoo__'+id+'"]'),voo=JSON.parse(selected.val()),IkarusJQuery("#TransactionVoo"+trecho).val(selected.val()),"ida"==trecho&&(str="Ida"),"volta"==trecho&&(str="Volta"),IkarusJQuery("#validaVoo"+str+"Tabela").attr("style","display: none;"),v(trecho,id),totalDinheiro=parseFloat(voo.Flight.totalDinheiro),totalEmpresa=parseFloat(voo.Flight.totalEmpresa),totalComboDinheiro=parseFloat(voo.Flight.totalComboDinheiro),totalComboEmpresa=parseFloat(voo.Flight.totalComboEmpresa),usandoCombo=!1,"R"==o.trip&&(selectedIda=IkarusJQuery('input[id*="inputVoo__ida"]:checked'),selectedVolta=IkarusJQuery('input[id*="inputVoo__volta"]:checked'),selectedIda.length>0&&selectedVolta.length>0&&(hashIda=selectedIda.attr("hash"),hashVolta=selectedVolta.attr("hash"),hashIda==hashVolta&&"2"==r[hashIda].selling_mode&&(totalEmpresa>totalComboEmpresa&&totalComboEmpresa>0?(milhasA=parseInt(voo.Flight.miles_adults_combo),milhasC=parseInt(voo.Flight.miles_children_combo),a(id)):(milhasA=parseInt(voo.Flight.miles_adults),milhasC=parseInt(voo.Flight.miles_children),u(id)),outro=IkarusJQuery('input[id*="inputVoo__'+outroTrecho+'"]:checked'),idOutro=outro.attr("id"),idOutro=idOutro.replace("inputVoo__",""),outroVoo=JSON.parse(outro.val()),totalDinheiro2=parseFloat(outroVoo.Flight.totalDinheiro),totalEmpresa2=parseFloat(outroVoo.Flight.totalEmpresa),totalComboDinheiro2=parseFloat(outroVoo.Flight.totalComboDinheiro),totalComboEmpresa2=parseFloat(outroVoo.Flight.totalComboEmpresa),totalEmpresa2>totalComboEmpresa2&&totalComboEmpresa2>0?(milhasA2=parseInt(outroVoo.Flight.miles_adults_combo),milhasC2=parseInt(outroVoo.Flight.miles_children_combo),a(idOutro)):(milhasA2=parseInt(outroVoo.Flight.miles_adults),milhasC2=parseInt(outroVoo.Flight.miles_children),u(idOutro)),usandoCombo=!0))),usandoCombo||(milhasA=parseInt(voo.Flight.miles_adults),milhasC=parseInt(voo.Flight.miles_children),u(id),outro=IkarusJQuery('input[id*="inputVoo__'+outroTrecho+'"]:checked'),outro.length>0&&(idOutro=outro.attr("id"),idOutro=idOutro.replace("inputVoo__",""),outroVoo=JSON.parse(outro.val()),totalDinheiro2=parseFloat(outroVoo.Flight.totalDinheiro),totalEmpresa2=parseFloat(outroVoo.Flight.totalEmpresa),milhasA2=parseInt(outroVoo.Flight.miles_adults),milhasC2=parseInt(outroVoo.Flight.miles_children),u(idOutro))),IkarusJQuery(window).scrollTop(IkarusJQuery("#tabela_"+trecho).offset())):(IkarusJQuery("#TransactionVoo"+trecho).val(""),p(trecho,id),str="ida"==trecho?"Ida":"Volta",t(),IkarusJQuery("#acompanhamento"+trecho).html('<div id="saldoacompanhamento'+trecho+'" value="0" style="text-align: center; background-color: #71C2E2; color: #FFF; font-weight: bold; font-size: 16px;">'+str+'</div><div style="text-align: center; color: #ADADAD;">nenhum voo selecionado</div>'),outro=IkarusJQuery('input[id*="inputVoo__'+outroTrecho+'"]:checked'),outro.length>0&&(outroVoo=JSON.parse(outro.val()),totalDinheiro=parseFloat(outroVoo.Flight.totalDinheiro),totalEmpresa=parseFloat(outroVoo.Flight.totalEmpresa),milhasA=parseInt(outroVoo.Flight.miles_adults),milhasC=parseInt(outroVoo.Flight.miles_children)))};return{fillsearchForm:_,searchFlights:r,setAssetsUrl:e,buyRules:F,documentoMask:b,onChangeTrip:m,addDatepickers:l,abrirDetalhes:c,fecharDetalhes:C,validatePassengerForms:h,calculateAge:n}}();
